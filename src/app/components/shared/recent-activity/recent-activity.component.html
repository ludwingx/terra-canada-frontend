<div class="recent-activity">
  <div class="activity-header">
    <h3>{{ 'dashboard.recent_activity' | translate }}</h3>
    <button class="refresh-btn">
      <i class="pi pi-refresh"></i>
      {{ 'actions.refresh' | translate }}
    </button>
  </div>

  <div class="activity-table">
    <table>
      <thead>
        <tr>
          <th>{{ 'payments.date' | translate }}</th>
          <th>{{ 'payments.client' | translate }}</th>
          <th>{{ 'payments.supplier' | translate }}</th>
          <th>{{ 'payments.amount' | translate }}</th>
          <th>{{ 'payments.loan_number' | translate }}</th>
          <th>{{ 'payments.map' | translate }}</th>
          <th>{{ 'payments.status' | translate }}</th>
          <th>{{ 'payments.verification' | translate }}</th>
          <th>{{ 'users.email' | translate }}</th>
          <th>{{ 'audit.recorded_by' | translate }}</th>
          <th>{{ 'audit.action' | translate }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let activity of activities">
          <td>{{ activity.date }}</td>
          <td>{{ activity.client }}</td>
          <td>{{ activity.user }}</td>
          <td>
             <span *ngIf="activity.amount">
              {{ activity.amount }} {{ activity.currency }}
            </span>
            <span *ngIf="!activity.amount">-</span>
          </td>
          <td>{{ activity.loanNumber }}</td>
          <td>{{ activity.cardDetails }}</td>
          <td>
            <span class="status-badge" [ngClass]="getPaymentStatusClass(activity.paymentStatus)">
              {{ getPaymentStatusLabel(activity.paymentStatus) }}
            </span>
          </td>
          <td>
             <span class="verification-badge" [class.verified]="activity.verified">
                {{ activity.verified ? 'Si' : 'No' }}
             </span>
          </td>
          <td><i class="pi pi-envelope" [class.text-green-500]="activity.email" [class.text-gray-400]="!activity.email"></i></td>
          <td>{{ activity.recordedBy }}</td>
          <td>
            {{ activity.action }}
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
